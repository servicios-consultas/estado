<!-- ================= FORMULARIO ORIGINAL ================= -->
<form id="infracciones-form" onsubmit="event.preventDefault(); consultar();">

  <div class="card p-4">
    <h3>Quiero datos sobre</h3>

    <div class="d-flex">
      <div class="custom-control custom-radio">
        <input class="custom-control-input" type="radio" name="tipo_consulta" value="Dominio" id="radioDom">
        <label class="custom-control-label" for="radioDom">Una patente</label>
      </div>

      <div class="custom-control custom-radio ml-3">
        <input class="custom-control-input" type="radio" name="tipo_consulta" value="Documento" id="radioDoc" checked>
        <label class="custom-control-label" for="radioDoc">Un documento</label>
      </div>
    </div>

    <div class="d-flex mt-2 flex-wrap" id="panel-documento">
      <div class="form-group col-12 col-lg-4 px-1">
        <label>Tipo de documento*</label>
        <select class="custom-select">
          <option>DNI</option>
          <option>CI</option>
          <option>CUIT</option>
          <option>LC</option>
          <option>LE</option>
          <option>PAS</option>
        </select>
      </div>

      <div class="form-group col-12 col-lg-6 px-1">
        <label>Número de documento*</label>
        <input type="number" id="inputDato" class="form-control">
      </div>
    </div>

    <div class="mt-2 flex-wrap d-none" id="panel-dominio">
      <div class="form-group col-12 col-lg-6 px-1">
        <label>Dominio*</label>
        <input type="text" id="inputDominio" class="form-control">
      </div>
    </div>

    <!-- CAPTCHA ELIMINADO ACÁ -->

  </div>

  <div class="w-100 mt-3 pt-3 text-right">
    <button type="submit" class="btn btn-primary btn-lg">
      Consultar
    </button>
  </div>
</form>

<!-- ================= RESULTADOS (MISMO DISEÑO BA) ================= -->

<div id="datosIngresados" class="pt-4 d-none">
  <div class="card container-border mb-4 p-4">
    <div class="d-flex justify-content-between">
      <h3 class="m-0">Datos ingresados</h3>
      <button class="btn btn-link btn-sm" onclick="location.reload()">Nueva consulta</button>
    </div>

    <hr>

    <small>Opción seleccionada</small>
    <h6 id="tipoConsultaTexto"></h6>

    <hr>

    <small id="labelNumero"></small>
    <h6 id="numeroConsultado"></h6>
  </div>
</div>

<div id="sinInfracciones" class="card container-border mb-4 p-4 d-none">
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <h6>No registrás infracciones en este momento.</h6>
      <button class="btn btn-success mt-2">Descargar libre deuda</button>
    </div>
    <span class="material-icons-round bg-success text-white rounded-circle p-2">
      check_circle
    </span>
  </div>
</div>

<div id="conInfracciones" class="alert alert-danger d-none"></div>

<!-- ================= JS AGREGADO ================= -->
<script>
const personas = [
  { dni: "12345678", dominio: "HDF310", sinInfracciones: true },
  { dni: "87654321", dominio: "ABC123", sinInfracciones: false }
];

function consultar() {
  const esDocumento = document.getElementById("radioDoc").checked;
  const valor = esDocumento
    ? document.getElementById("inputDato").value.trim()
    : document.getElementById("inputDominio").value.trim().toUpperCase();

  if (!valor) return;

  const datos = document.getElementById("datosIngresados");
  const tipo = document.getElementById("tipoConsultaTexto");
  const numero = document.getElementById("numeroConsultado");
  const label = document.getElementById("labelNumero");
  const sin = document.getElementById("sinInfracciones");
  const con = document.getElementById("conInfracciones");

  datos.classList.add("d-none");
  sin.classList.add("d-none");
  con.classList.add("d-none");

  const persona = personas.find(p =>
    esDocumento ? p.dni === valor : p.dominio === valor
  );

  if (!persona) {
    con.textContent = "No se encontraron registros para el dato ingresado.";
    con.classList.remove("d-none");
    return;
  }

  datos.classList.remove("d-none");

  tipo.textContent = esDocumento ? "Documento (DNI)" : "Patente";
  label.textContent = esDocumento ? "Número de documento" : "Número de patente";
  numero.textContent = valor;

  if (persona.sinInfracciones) {
    sin.classList.remove("d-none");
  } else {
    con.textContent = "Registrás infracciones pendientes.";
    con.classList.remove("d-none");
  }
}
</script>
